/**
 * Semantic Carousel v1.0.0
 * Copyright 2017-2018 semantic project <semantic.project@gmail.com>
 * Licensed The MIT License (MIT)
 */
(function(d,c,a,e){var b=function(g,f){this.$element=d(g);this.$buttons=this.$element.find(".carousel-next, .carousel-prev");this.$thumb=this.$element.find(".item-thumb");this.$shelf=this.$element.find(".list-items");this.shelfLeft=-1*parseInt(this.$shelf.css("left"),10);this.$left=this.$element.find(".carousel-prev");this.$right=this.$element.find(".carousel-next");this.$body=d("body");this.$document=d(a);this.$window=d(c);this.token=false;this.hoverTimer=false;this.options=d.extend({},b.DEFAULTS,f);this.init()};b.VERSION="1.0.0";b.DEFAULTS={scrollbar:true};b.prototype.init=function(){this.updateControls();this.events();this.onResize();this.build()};b.prototype.onResize=function(){var f=this;this.$window.resize(function(){f.thumb()})};b.prototype.build=function(){this.$element.on("mouseenter.semantic.carousel",d.proxy(this.enter,this)).on("mouseleave.semantic.carousel",d.proxy(this.leave,this));this.$thumb.on("mousedown.semantic.carousel",d.proxy(this.down,this));this.$body.add(this.$thumb).on("mouseup.semantic.carousel",d.proxy(this.up,this))};b.prototype.enter=function(){var f=this;this.$element.addClass("hovering");c.clearTimeout(this.hoverTimer);this.hoverTimer=c.setTimeout(function(){f.$element.hasClass("hovering")?f.showControls():false},300)};b.prototype.leave=function(){var f=this;this.$element.removeClass("hovering");c.clearTimeout(this.hoverTimer);this.$element.hasClass("scrolling")||(this.hoverTimer=c.setTimeout(function(){f.$element.hasClass("hovering")||f.hideControls()},600))};b.prototype.down=function(g){var h=this;var f=g.clientX;1===g.which&&(g.preventDefault(),this.$element.addClass("scrolling"),h.$body.on("mousemove.semantic.carousel",function(k){k.preventDefault();var j=h.getDimensions(),i=Math.max(Math.min(j.shelfLeft+1/j.pageRatio*(k.clientX-f),j.maxLeft),0);f=k.clientX;h.moveWrapper(i)}),h.$document.on("selectstart.semantic.carousel",function(){return false}))};b.prototype.up=function(f){this.$element.removeClass("scrolling");this.$element.hasClass("hovering")||this.hideControls();this.$body.off("mousemove.semantic.carousel");this.$document.off("selectstart.semantic.carousel");f.preventDefault()};b.prototype.moveWrapper=function(g,j){var i=this;j=j||0;i.shelfLeft=g;var h=this.getDimensions();var f=g/h.shelfWidth*h.pageWidth;this.$shelf.animate({left:-g},j,"swing",function(){i.arrows();i.unlock()});this.$thumb.animate({left:f},j,"swing",function(){i.thumb();i.unlock()})};b.prototype.unlock=function(){this.token=false};b.prototype.lock=function(){this.token=true};b.prototype.locked=function(){return this.token};b.prototype.thumb=function(){var g=this.getDimensions(),f=g.leftRatio*g.pageWidth,h=Math.min(g.pageRatio*g.pageWidth,g.pageWidth);this.$thumb.width(h).each(function(){d(this).animate({left:f},0)})};b.prototype.arrows=function(){var g=this;var f=this.getDimensions();d.each([{$e:g.$left,enabled:0<f.shelfLeft},{$e:g.$right,enabled:f.shelfLeft<f.maxLeft}],function(h,j){var i=j.$e;j.enabled?i.removeClass("disabled"):i.addClass("disabled")})};b.prototype.getDimensions=function(){var f=this.$shelf.width();var h=this.shelfLeft;var g=this.$element.width();return{pageWidth:g,shelfWidth:f,shelfLeft:h,pageRatio:g/f,leftRatio:h/f,maxLeft:f-g}};b.prototype.showControls=function(f){this.$thumb.add(this.$buttons).stop(true,true).fadeIn({duration:300,complete:f,queue:false})};b.prototype.hideControls=function(f){this.$thumb.add(this.$buttons).stop(true,true).fadeOut({duration:300,complete:f,queue:false})};b.prototype.updateControls=function(){this.arrows();this.thumb()};b.prototype.slide=function(i){var g=i==="next"?1:-1;var h=this.getDimensions(),f=this.alignWithItem(h.shelfLeft+g*h.pageWidth),j=Math.min(0>g?f.right:f.left,h.maxLeft);this.locked()||(this.lock(),h.shelfLeft===j?(this.bounce(this.$shelf,-30*g),this.bounce(this.$thumb,6*g)):this.moveWrapper(j,400));return this};b.prototype.bounce=function(h,f){var g=this;h.each(function(){var i=d(this);i.animate({marginLeft:f},{queue:false,duration:400,easing:"swing",complete:function(){i.animate({marginLeft:0},{queue:false,duration:100,easing:"swing",complete:function(){g.unlock()}})}})});return this};b.prototype.getItems=function(){return this.$element.find(".item")};b.prototype.cardPosition=function(g){var f=(g.position()||{left:0,right:0}).left;g=f+g.outerWidth(true);return{left:f,right:g}};b.prototype.alignWithItem=function(g){if(0>g){return{left:0,right:0}}var h=this;var f=this.getItems();var i=f.map(function(){var j=h.cardPosition(d(this));if(g>=j.left&&g<=j.right){return j}}).get(0);return i?i:h.cardPosition(f.last())};b.prototype.events=function(){var f=this;this.$document.on("click.semantic.carousel","[data-carousel]",function(i){var h=d(this);var g=h.attr("data-carousel");g==="next"?f.slide("next"):f.slide("prev");i.preventDefault()})};d.fn.semanticCarousel=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=d(this);var h=i.data("semantic.carousel");if(!h){h=new b(this,typeof g==="object"&&g);i.data("semantic.carousel",h)}if(typeof g==="string"){h[g].apply(h,f)}})};d.fn.semanticCarousel.Constructor=b})(window.jQuery,window,document);